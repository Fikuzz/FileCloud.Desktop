<Window x:Class="FileCloud.Desctop.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:FileCloud.Desctop"
        xmlns:helpers="clr-namespace:FileCloud.Desctop.Helpers"
        mc:Ignorable="d"
        Title="MainWindow" Height="450" Width="800">
    <FrameworkElement.Resources>
            <ResourceDictionary>
                <Style
				TargetType="{x:Type Button}"
				x:Key="{x:Type Button}">
                    <Setter
					Property="Margin"
					Value="5" />
                    <Setter
					Property="Padding"
					Value="10,5" />
                    <Setter
					Property="FontWeight"
					Value="SemiBold" />
                </Style>
                <Style
				TargetType="{x:Type TextBlock}"
				x:Key="{x:Type TextBlock}">
                    <Setter
					Property="FontSize"
					Value="14" />
                    <Setter
					Property="TextWrapping"
					Value="Wrap" />
                </Style>
            </ResourceDictionary>
        </FrameworkElement.Resources>
        <DockPanel>
            <Border
			DockPanel.Dock="Top"
			Background="#FF2C3E50"
			Padding="10">
                <DockPanel>
                    <TextBlock
					Text="👤 Гость"
					Foreground="#FFFFFFFF"
					FontSize="16"
					FontWeight="Bold" />
                </DockPanel>
            </Border>
            <StatusBar
			DockPanel.Dock="Bottom">
                <StatusBarItem>
                    <TextBlock
					Name="StatusBarText"
					Text="{Binding StatusMessage}" />
                </StatusBarItem>
            </StatusBar>
            <DockPanel>
                <DockPanel
				Dock="Left"
				Width="200"
				Background="#FFF0F0F0">
                    <Button
					Content="Обновить"
					DockPanel.Dock="Bottom"
					Command="{Binding LoadFilesCommand}" />
                    <StackPanel>
                        <Button
						Content="📤 Загрузить файл"
						Command="{Binding UploadFilesCommand}" />
                        <Button
						Content="📥 Скачать файл"
						Command="{Binding SaveFilesCommand}" />
                        <Button
						Content="❌ Удалить файл"
						Command="{Binding DeleteFilesCommand}" />
                    </StackPanel>
                </DockPanel>
                <ScrollViewer
				VerticalScrollBarVisibility="Auto"
				HorizontalScrollBarVisibility="Disabled">
                <ListBox
					SelectionMode="Extended"
					BorderThickness="0"
					Background="#00FFFFFF"
					HorizontalAlignment="Stretch"
					ScrollViewer.HorizontalScrollBarVisibility="Disabled"
					ScrollViewer.VerticalScrollBarVisibility="Auto"
					ItemsSource="{Binding Files}"
					helpers:ListBoxSelectedItemsBinding.BindableSelectedItems="{Binding SelectedFiles}" d:ItemsSource="{d:SampleData ItemCount=5}" BorderBrush="#FF909090">
                    <ItemsControl.ItemsPanel>
                            <ItemsPanelTemplate>
                                <WrapPanel />
                            </ItemsPanelTemplate>
                        </ItemsControl.ItemsPanel>
                        <ItemsControl.ItemTemplate>
                            <DataTemplate>
                            <StackPanel>
                                <Border
								BorderBrush="#CCC"
								BorderThickness="1"
								Margin="3"
								Width="120"
								Padding="4" CornerRadius="10,10,10,10">

                                    <Image
										Width="100"
										Height="100">
                                        <FrameworkElement.Style>
                                            <Style
												TargetType="{x:Type Image}">
                                                <Setter
													Property="Source"
													Value="{Binding PreviewPath}" />
                                                <Style.Triggers>
                                                    <DataTrigger
														Binding="{Binding PreviewPath}"
														Value="{x:Null}">
                                                        <Setter
															Property="Source"
															Value="{Binding PreviewImage}" />
                                                    </DataTrigger>
                                                </Style.Triggers>
                                            </Style>
                                        </FrameworkElement.Style>
                                    </Image>
                                </Border>
                                <TextBlock
                                    FontWeight="Bold"
                                    TextAlignment="Center"
                                    Text="{Binding Name}" />
                            </StackPanel>
                        </DataTemplate>
                        </ItemsControl.ItemTemplate>
                    </ListBox>
                </ScrollViewer>
            </DockPanel>
        </DockPanel>
</Window>